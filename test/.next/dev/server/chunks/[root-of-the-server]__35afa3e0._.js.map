{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///E:/university/frontend/app/api/register/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport axios from \"axios\";\r\n\r\nexport  async function POST(request: Request) {\r\n  try {\r\n    const body = await request.json();\r\n\r\n    // Call external API with Axios\r\n    const externalResponse = await axios.post(\r\n      `${process.env.NEXT_PUBLIC_BACKEND_URL}/user/register`,\r\n      body,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n\r\n    const { token } = externalResponse.data;\r\n\r\n\r\n     const response = NextResponse.json(\r\n      { message: \"Registration successful\" },\r\n      { status: 200 }\r\n    );\r\n\r\n    response.cookies.set(\"user_token\", token, {\r\n      httpOnly: true,\r\n      secure: process.env.NEXT_PUBLIC_API_NODE_ENV === \"production\",\r\n      path: \"/\",\r\n      maxAge: 60 * 60 * 24 * 30, // 30 days\r\n    });\r\n\r\n    return response;\r\n\r\n  } catch (error: unknown) {\r\n    console.error(\"Registration error:\", error);\r\n    const errorPayload = axios.isAxiosError(error)\r\n      ? error.response?.data\r\n      : error instanceof Error\r\n      ? error.message\r\n      : \"Registration failed\";\r\n\r\n\r\n    return NextResponse.json(\r\n      { success: false, error: errorPayload },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEQ,eAAe,KAAK,OAAgB;IAC1C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,+BAA+B;QAC/B,MAAM,mBAAmB,MAAM,kJAAK,CAAC,IAAI,CACvC,iEAAuC,cAAc,CAAC,EACtD,MACA;YACE,SAAS;gBACP,gBAAgB;YAClB;QACF;QAGF,MAAM,EAAE,KAAK,EAAE,GAAG,iBAAiB,IAAI;QAGtC,MAAM,WAAW,gJAAY,CAAC,IAAI,CACjC;YAAE,SAAS;QAA0B,GACrC;YAAE,QAAQ;QAAI;QAGhB,SAAS,OAAO,CAAC,GAAG,CAAC,cAAc,OAAO;YACxC,UAAU;YACV,QAAQ,QAAQ,GAAG,CAAC,wBAAwB,KAAK;YACjD,MAAM;YACN,QAAQ,KAAK,KAAK,KAAK;QACzB;QAEA,OAAO;IAET,EAAE,OAAO,OAAgB;QACvB,QAAQ,KAAK,CAAC,uBAAuB;QACrC,MAAM,eAAe,kJAAK,CAAC,YAAY,CAAC,SACpC,MAAM,QAAQ,EAAE,OAChB,iBAAiB,QACjB,MAAM,OAAO,GACb;QAGJ,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO;QAAa,GACtC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}