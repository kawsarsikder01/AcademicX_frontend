{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/university/frontend/contexts/CartContext.tsx"],"sourcesContent":["import React, {\r\n  createContext,\r\n  useContext,\r\n  useState,\r\n  useEffect,\r\n  ReactNode,\r\n} from \"react\";\r\n\r\nexport interface CartItem {\r\n  id: string;\r\n  title: string;\r\n  instructor?: string;\r\n  price: number; // make price required, optional prices cause type issues\r\n  image?: string;\r\n}\r\n\r\nexport interface CartContextType {\r\n  items: CartItem[];\r\n  addToCart: (item: CartItem) => void;\r\n  removeFromCart: (id: string) => void;\r\n  clearCart: () => void;\r\n  totalItems: number;\r\n  totalPrice: number;\r\n}\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\ninterface CartProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const CartProvider: React.FC<CartProviderProps> = ({ children }) => {\r\n  const [items, setItems] = useState<CartItem[]>([]);\r\n\r\n  // Load cart from localStorage on mount\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(\"cartItems\");\r\n\r\n    if (stored) {\r\n      try {\r\n        const parsed: CartItem[] = JSON.parse(stored);\r\n        if (Array.isArray(parsed)) {\r\n          setItems(parsed);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to parse cart data:\", error);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Sync cart to localStorage whenever items change\r\n  useEffect(() => {\r\n    localStorage.setItem(\"cartItems\", JSON.stringify(items));\r\n  }, [items]);\r\n\r\n  const addToCart = (item: CartItem): void => {\r\n    setItems((prev) => {\r\n      const exists = prev.some((i) => i.id === item.id);\r\n      return exists ? prev : [...prev, item];\r\n    });\r\n  };\r\n\r\n  const removeFromCart = (id: string): void => {\r\n    setItems((prev) => prev.filter((item) => item.id !== id));\r\n  };\r\n\r\n  const clearCart = (): void => {\r\n    setItems([]);\r\n  };\r\n\r\n  const totalItems: number = items.length;\r\n  const totalPrice: number = items.reduce(\r\n    (sum, item) => sum + (item.price ?? 0),\r\n    0\r\n  );\r\n\r\n  const value: CartContextType = {\r\n    items,\r\n    addToCart,\r\n    removeFromCart,\r\n    clearCart,\r\n    totalItems,\r\n    totalPrice,\r\n  };\r\n\r\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\r\n};\r\n\r\nexport const useCart = (): CartContextType => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error(\"useCart must be used within CartProvider\");\r\n  }\r\n  return context;\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA;;;AAyBA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAMxD,MAAM,eAA4C,CAAC,EAAE,QAAQ,EAAE;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAa,EAAE;IAEjD,uCAAuC;IACvC,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QAEpC,IAAI,QAAQ;YACV,IAAI;gBACF,MAAM,SAAqB,KAAK,KAAK,CAAC;gBACtC,IAAI,MAAM,OAAO,CAAC,SAAS;oBACzB,SAAS;gBACX;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,8BAA8B;YAC9C;QACF;IACF,GAAG,EAAE;IAEL,kDAAkD;IAClD,IAAA,kNAAS,EAAC;QACR,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACnD,GAAG;QAAC;KAAM;IAEV,MAAM,YAAY,CAAC;QACjB,SAAS,CAAC;YACR,MAAM,SAAS,KAAK,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;YAChD,OAAO,SAAS,OAAO;mBAAI;gBAAM;aAAK;QACxC;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,SAAS,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;IACvD;IAEA,MAAM,YAAY;QAChB,SAAS,EAAE;IACb;IAEA,MAAM,aAAqB,MAAM,MAAM;IACvC,MAAM,aAAqB,MAAM,MAAM,CACrC,CAAC,KAAK,OAAS,MAAM,CAAC,KAAK,KAAK,IAAI,CAAC,GACrC;IAGF,MAAM,QAAyB;QAC7B;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///E:/university/frontend/components/Provider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport '@/app/index.css';\r\n\r\nimport { CartProvider } from \"@/contexts/CartContext\";\r\n\r\nexport function Providers({ children }: { children: React.ReactNode }) {\r\n  return <CartProvider>{children}</CartProvider>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAIA;AAJA;;;;AAMO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBAAO,8OAAC,wIAAY;kBAAE;;;;;;AACxB","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///E:/university/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}}]
}